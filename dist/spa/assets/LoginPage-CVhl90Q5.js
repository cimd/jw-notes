import{Q as d}from"./QInput-Dc7CFvKp.js";import{Q as n}from"./QSpinnerHourglass-Jsde6ADL.js";import{Q as m}from"./QBtn-C-ZgOgnX.js";import{Q as p}from"./QForm-D99bNDP4.js";import{Q as u}from"./QPage-DThCkkAs.js";import{auth as f}from"./apis-xMUPL35e.js";import{u as g}from"./Auth-D0T4oENO.js";import{d as h,_ as c,o as w,c as _,u as a,J as e,K as t,v,L as V,M as b,a2 as y}from"./index-rZjQhfus.js";import"./use-file-dom-props-Dm5OdEk9.js";import"./QSpinner-DyDxmwjQ.js";import"./use-dark-CnhrS15H.js";import"./render-DmSleq1m.js";import"./focus-manager-BJWzFvJg.js";import"./use-key-composition-YNG7guGK.js";import"./dom-M1Q5mHVP.js";import"./vm-B61G6sTM.js";import"./isTypedArray-V6sIBVz1.js";import"./http-CAOryOOa.js";const Q=h({data(){return{open:!0,formData:{email:"",password:""},loading:!1,loginError:!1,registerLink:"/#/user/register"}},methods:{submitForm(){const o=this.$refs.email.hasError,s=this.$refs.password.hasError;!o&&!s&&(this.loading=!0,this.loginError=!1,f.login(this.formData).then(i=>{const l=g();l.user=i.data,this.$router.push({path:"/"})}).catch(()=>{this.loading=!1,this.loginError=!0}))}}}),x={class:"fixed-top-left form-box low-res-adjustment"},D=e("div",{class:"text-h6 q-pa-md","data-cy":"login-page-title"},"Login",-1),E={class:"q-pa-md"},L={class:"q-gutter-y-md column",style:{"max-width":"300px"}},$={class:"text-weight-regular text-center text-red text-italic"},k=e("div",{class:"text-right"},[e("a",{id:"forgot-password-link",class:"password-recovery",href:"/#/auth/forgot-password"},"Forgot your password?")],-1),q={class:"text-right"},F=["href"];function S(o,s,i,l,B,N){return w(),_(u,{class:"q-page-min-height-fixer"},{default:a(()=>[e("div",x,[D,t(p,{ref:"loginForm",onSubmit:y(o.submitForm,["prevent"])},{default:a(()=>[e("div",E,[e("div",L,[t(d,{ref:"email",modelValue:o.formData.email,"onUpdate:modelValue":s[0]||(s[0]=r=>o.formData.email=r),label:"Email",name:"email",outlined:"",rules:[r=>!!r||"Required"]},null,8,["modelValue","rules"]),t(d,{ref:"password",modelValue:o.formData.password,"onUpdate:modelValue":s[1]||(s[1]=r=>o.formData.password=r),label:"Password",name:"password",outlined:"",rules:[r=>!!r||"Required"],type:"password"},null,8,["modelValue","rules"]),t(m,{color:"primary","data-cy":"submit",label:"Login",loading:o.loading,type:"submit"},{loading:a(()=>[t(n,{class:"on-left"}),v("Loading... ")]),_:1},8,["loading"]),e("div",$,[V(e("span",null,"Username/password not matching",512),[[b,o.loginError]])]),k,e("div",q,[e("a",{id:"register-link",class:"password-recovery",href:o.registerLink},"Register",8,F)])])])]),_:1},8,["onSubmit"])])]),_:1})}const Z=c(Q,[["render",S]]);export{Z as default};
