import{Q as d}from"./QInput-BGGB3zN-.js";import{Q as n}from"./QSpinnerHourglass-DTHOtHYE.js";import{Q as m}from"./QBtn-uIBLO3Xd.js";import{Q as p}from"./QForm-ChBslSnh.js";import{Q as u}from"./QPage-B37jp_D7.js";import{auth as f}from"./apis-CjmXX0Bf.js";import{u as g}from"./Auth-CtqWaBep.js";import{d as h,_ as c,o as w,c as _,u as a,J as e,K as t,v,L as V,M as b,a2 as y}from"./index-BtKb8wT8.js";import"./use-file-dom-props-DQ4-sdV9.js";import"./use-dark-Ck3iFzaA.js";import"./render-DRulWU2P.js";import"./focus-manager-BJWzFvJg.js";import"./use-key-composition-C-bUBPiv.js";import"./dom-DXkm9Q41.js";import"./vm-B61G6sTM.js";import"./isTypedArray-3TB5rZnQ.js";import"./http-CAOryOOa.js";const Q=h({data(){return{open:!0,formData:{email:"",password:""},loading:!1,loginError:!1,registerLink:"/#/user/register"}},methods:{submitForm(){const o=this.$refs.email.hasError,r=this.$refs.password.hasError;!o&&!r&&(this.loading=!0,this.loginError=!1,f.login(this.formData).then(i=>{const l=g();l.user=i.data,this.$router.push({path:"/"})}).catch(()=>{this.loading=!1,this.loginError=!0}))}}}),x={class:"fixed-top-left form-box low-res-adjustment"},D=e("div",{class:"text-h6 q-pa-md","data-cy":"login-page-title"},"Login",-1),E={class:"q-pa-md"},L={class:"q-gutter-y-md column",style:{"max-width":"300px"}},$={class:"text-weight-regular text-center text-red text-italic"},k=e("div",{class:"text-right"},[e("a",{id:"forgot-password-link",class:"password-recovery",href:"/#/auth/forgot-password"},"Forgot your password?")],-1),q={class:"text-right"},F=["href"];function S(o,r,i,l,B,N){return w(),_(u,{class:"q-page-min-height-fixer"},{default:a(()=>[e("div",x,[D,t(p,{ref:"loginForm",onSubmit:y(o.submitForm,["prevent"])},{default:a(()=>[e("div",E,[e("div",L,[t(d,{ref:"email",modelValue:o.formData.email,"onUpdate:modelValue":r[0]||(r[0]=s=>o.formData.email=s),label:"Email",name:"email",outlined:"",rules:[s=>!!s||"Required"]},null,8,["modelValue","rules"]),t(d,{ref:"password",modelValue:o.formData.password,"onUpdate:modelValue":r[1]||(r[1]=s=>o.formData.password=s),label:"Password",name:"password",outlined:"",rules:[s=>!!s||"Required"],type:"password"},null,8,["modelValue","rules"]),t(m,{color:"primary","data-cy":"submit",label:"Login",loading:o.loading,type:"submit"},{loading:a(()=>[t(n,{class:"on-left"}),v("Loading... ")]),_:1},8,["loading"]),e("div",$,[V(e("span",null,"Username/password not matching",512),[[b,o.loginError]])]),k,e("div",q,[e("a",{id:"register-link",class:"password-recovery",href:o.registerLink},"Register",8,F)])])])]),_:1},8,["onSubmit"])])]),_:1})}const Y=c(Q,[["render",S]]);export{Y as default};
